import{d as v,r as o,c as h,a as d,b as r,o as p,e as u,f as b,w as l,F as I,g as S,n as O,h as P,t as C,u as L,i as N,p as j,j as B,k as M,l as T,m as D,q as F,O as q}from"./vendor.b8ce831c.js";const E=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}};E();var y=(e,a)=>{for(const[i,c]of a)e[i]=c;return e};const V=v({methods:{home(){this.$router.push("/")}}}),H={class:"container"},R=d("h1",null,"St\xF6rungshelfer",-1),W=[R],G=d("footer",null," Karte, Strecken und Halte von https://geofox.de/ ",-1);function J(e,a,i,c,t,n){const s=o("router-view");return p(),h("div",H,[d("header",{onClick:a[0]||(a[0]=(..._)=>e.home&&e.home(..._))},W),r(s),G])}var K=y(V,[["render",J]]);const Q=v({props:{coordinate:Array},setup(){return{radius:u(10)}},mounted(){this.update()},methods:{update(){this.radius=(this.radius+.3)%10+10,requestAnimationFrame(this.update)}}});function U(e,a,i,c,t,n){const s=o("ol-geom-point"),_=o("ol-style-fill"),f=o("ol-style-stroke"),m=o("ol-style-circle"),g=o("ol-style"),k=o("ol-feature"),w=o("ol-source-vector");return p(),b(w,null,{default:l(()=>[r(k,null,{default:l(()=>[r(s,{coordinates:e.coordinate},null,8,["coordinates"]),r(g,null,{default:l(()=>[r(m,{radius:e.radius},{default:l(()=>[r(_,{color:"red"}),r(f,{color:"black",width:3})]),_:1},8,["radius"])]),_:1})]),_:1})]),_:1})}var X=y(Q,[["render",U]]),Y="/stoerungshelfer/assets/lime.39635154.png",Z="/stoerungshelfer/assets/call-a-bike.0b1e42ef.png",ee="/stoerungshelfer/assets/taxi.b0aa09d7.png";const oe=v({setup(){return{providerIcons:{lime:Y,callABike:Z,taxi:ee}}},props:{alternatives:Array,activeId:String},methods:{getIcon(e){return this.providerIcons[e.provider]}}}),te={class:"alternatives"},re=["onClick"],ne=["src"];function se(e,a,i,c,t,n){return p(),h("ul",te,[(p(!0),h(I,null,S(e.alternatives,s=>(p(),h("li",{key:s.id,class:O({active:s.id===e.activeId}),onClick:_=>e.$emit("selected",s)},[d("div",null,[d("img",{src:e.getIcon(s)},null,8,ne),P(C(s.description),1)])],10,re))),128))])}var ae=y(oe,[["render",se],["__scopeId","data-v-22b17b8c"]]),ce="/stoerungshelfer/assets/marker.ed6c3810.png";const le=v({props:{alternative:{type:Object,required:!0}},setup(){return{marker:ce}}});function ie(e,a,i,c,t,n){const s=o("ol-geom-point"),_=o("ol-style-icon"),f=o("ol-style"),m=o("ol-feature"),g=o("ol-source-vector");return p(),b(g,null,{default:l(()=>[r(m,null,{default:l(()=>[r(s,{coordinates:e.alternative.location},null,8,["coordinates"]),r(f,null,{default:l(()=>[r(_,{src:e.marker,scale:.1},null,8,["src","scale"])]),_:1})]),_:1})]),_:1})}var _e=y(le,[["render",ie]]);const pe=v({setup(){const e=L(),a=u([9.99,53.55]),i=u("EPSG:4326"),c=u(15),t=u(0),n=u(null);return{store:e,center:a,projection:i,zoom:c,rotation:t,activeAlternative:n,layers:["geofox_workspace:dynamic_stations","geofox_workspace:geofoxdb_stations","geofox_workspace:geofoxdb_strecken_nacht","geofox_workspace:geofoxdb_strecken_normal","geofox_workspace:geofoxdb_strecken_sonderfahrplan","geofox_workspace:geofoxdb_strecken_we_nacht","geofox_workspace:geofoxdb_bundr","geofox_workspace:geofoxdb_cambio","geofox_workspace:geofoxdb_europcar","geofox_workspace:geofoxdb_pundr","geofox_workspace:geofoxdb_switchh_points","geofox_workspace:geofoxdb_zahlgrenzen","geofox_workspace:geofoxdb_zahlgrenzen_gedehnt","geofox_workspace:geofoxdb_zahlgrenzen_gedehnt_nacht","geofox_workspace:geofoxdb_zahlgrenzen_gedehnt_normal","geofox_workspace:geofoxdb_zahlgrenzen_gedehnt_sonderfahrplan","geofox_workspace:geofoxdb_zahlgrenzen_gedehnt_we_nacht","geofox_workspace:geofoxdb_zahlgrenzen_nacht","geofox_workspace:geofoxdb_zahlgrenzen_normal","geofox_workspace:geofoxdb_zahlgrenzen_sonderfahrplan","geofox_workspace:geofoxdb_zahlgrenzen_we_nacht"]}},components:{Disruption:X,Alternatives:ae,Provider:_e},computed:{alternatives(){return[{id:"1",description:"Mit dem StadtRAD ab Ballindamm",location:[9.995239,53.552372],provider:"callABike"},{id:"2",description:"Mit einem Lime eTretroller ab Jungfernsteg",location:[9.992468,53.553239],provider:"lime"},{id:"3",description:"Mit dem Taxi ab G\xE4nsemarkt",location:[9.988247,53.555491],provider:"taxi"}]}},methods:{selectAlternative(e){this.activeAlternative=e}}}),de=e=>(j("data-v-91e46c0e"),e=e(),B(),e),ue={class:"wrapper"},fe=de(()=>d("h4",null,"Alternativen",-1));function me(e,a,i,c,t,n){const s=o("ol-view"),_=o("ol-source-osm"),f=o("ol-tile-layer"),m=o("ol-source-image-wms"),g=o("ol-image-layer"),k=o("Disruption"),w=o("Provider"),$=o("ol-vector-layer"),z=o("ol-map"),A=o("Alternatives");return p(),h("div",ue,[r(z,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:{height:"100%"},pixelRatio:2},{default:l(()=>[r(s,{ref:"view",center:e.center,rotation:e.rotation,zoom:e.zoom,projection:e.projection},null,8,["center","rotation","zoom","projection"]),r(f,null,{default:l(()=>[r(_,{url:"https://map.geofox.de/tiles/{z}/{x}/{y}.png"})]),_:1}),r(g,{zIndex:1001},{default:l(()=>[r(m,{url:"https://map.geofox.de/geoserver/geofox_workspace/wms",serverType:"geoserver",layers:e.layers,format:"image/svg+xml",attributions:"geofox.de",ratio:1},null,8,["layers"])]),_:1}),r($,{zIndex:1002},{default:l(()=>[r(k,{coordinate:[9.9940519,53.5522684]},null,8,["coordinate"]),e.activeAlternative?(p(),b(w,{key:0,alternative:e.activeAlternative},null,8,["alternative"])):N("",!0)]),_:1})]),_:1}),fe,r(A,{alternatives:e.alternatives,active:e.activeAlternative,onSelected:e.selectAlternative},null,8,["alternatives","active","onSelected"])])}var ge=y(pe,[["render",me],["__scopeId","data-v-91e46c0e"]]);const ve=1,he=localStorage.getItem("app");he||localStorage.removeItem("userProfile");localStorage.setItem("app",JSON.stringify({version:ve}));const ye={},xe={},ke={};var we=M({state:ye,mutations:xe,actions:ke});const be=[{path:"/",component:ge}],$e=T({history:D(),routes:be}),x=F(K);x.use(we);x.use($e);x.use(q);x.mount("#app");
